# .github/workflows/mediafire_downloader.yml
name: MediaFire Downloader

on:
  push:
    branches:
      - main # Atau branch lain yang Anda inginkan untuk memicu workflow

jobs:
  download_file:
    runs-on: ubuntu-latest # Gunakan runner yang ringan dan umum

    steps:
    - name: Checkout code
      uses: actions/checkout@v4 # Checkout kode dari repository Anda

    - name: Set up Python
      uses: actions/setup-python@v5
      with:
        python-version: '3.x' # Gunakan versi Python terbaru yang tersedia

    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install selenium webdriver-manager
        # Tidak perlu menginstal chromedriver secara manual berkat webdriver-manager

    - name: Set MediaFire URL as environment variable
      id: set_url # Berikan ID agar bisa direferensikan
      run: |
        # Ganti 'YOUR_MEDIAFIRE_URL_HERE' dengan URL MediaFire sebenarnya
        # Atau, Anda bisa menggunakan GitHub Secrets untuk menyimpan URL sensitif
        echo "MEDIAFIRE_URL=https://www.mediafire.com/file/your_file_id/your_filename.zip/file" >> $GITHUB_ENV
        # Pastikan Anda mengganti URL ini dengan yang benar!

    - name: Run MediaFire Downloader Script
      run: python download_mediafire.py
      
    - name: Upload Download Link (Optional)
      # Langkah ini opsional. Jika script berhasil, ia akan membuat file download_link.txt.
      # Anda dapat mengunggahnya sebagai artefak dari workflow.
      uses: actions/upload-artifact@v4
      with:
        name: mediafire-download-link
        path: download_link.txt
        retention-days: 5 # Simpan artefak selama 5 hari
